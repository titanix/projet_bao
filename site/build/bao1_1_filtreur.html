<!DOCTYPE html>
<!-- saved from url=(0023)http://git-scm.com/book -->
<html lang="en" class="js fontface webkit chrome no-windows no-ie8 wf-adelle-n4-active wf-adelle-n7-active wf-active">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  		<meta charset="utf-8">
  		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

		<title>Git - Book</title>

  		<link href="index.css" media="screen" rel="stylesheet" type="text/css">
  		<link href="louis.css" media="screen" rel="stylesheet" type="text/css">

  		<style type="text/css">.tk-adelle{font-family:"adelle",serif;}</style><link rel="stylesheet" href="http://use.typekit.com/c/1265dd/adelle:n4:n7.XK9:F:2,XKF:F:2/d?3bb2a6e53c9684ffdc9a98ff1f5b2a62be32f57674629b256bf45cc5d898bd33078f6d102fef89283fbbb31e1e08dbab19f40e05a4b4be3e89b3372a143e7a26dcd5dad130c72bab3e8fd8b99a9642fbd1ac9ca2f85adca09826901eba44606d532f918a18db21e3aa7eedc4c96415fb336454aeba9ccc4db2a429ad19d964ab58d4b37e4065f51b76f05e5784b3d8559dc1b815733d6d01c3628dc2ef213aaf691e3a89bf6dd61e2ad9429b23fe4aa8ae920a330c526bf40743ee5dfcd44574840a956bad758ed0eee2b5a93c60d4e7fb298bff1da10e582117053d1df952252f3c620756aa9c01af18b814425fcac6691a37beec766e06872a3e540e07e591a00479af59d5422d070cd9e6028fcffcbc624bd8c4a7d13947ef50a81c4a28244fad90bde4a302">
  		<script>
    		//<![CDATA[
      		try{Typekit.load();}catch(e){}
    		//]]>
  		</script>
	</head>
<body id="documentation">

  <div class="inner">
    <header>
  		<a href="index.html">
  			<img src="toolbox.png" width="110" height="46" alt="Git">
  		</a>
  		<span id="tagline">
    		<em>--</em>projet-boite-à-outils
  		</span>
		<!--<form id="search" action="http://git-scm.com/search/results">
    		<input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text">
  		</form>
  		<div id="search-results"></div>-->
	</header>
  </div> <!-- .inner -->

	<div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="">Sujets chauds</a>
        <ul class="expanded">
          <li>
            <a href="bao1_2_function_pointer.html">Pointeurs de fonction</a>
          </li>
          <li>
            <a href="bao1_5_parallelisation.html">Code parallèle</a>
          </li>
          <li>
            <a href="">Mini-mémo git</a>
          </li>

        </ul>
      </li>
      <li>
        <a href="">Téléchargements</a>
      </li>
    	<li>
        <a href="">Auteurs</a>
      </li>
    </ul>
    
    <hr class="sidebar">
    	<p>Download this book in <a href="https://github.s3.amazonaws.com/media/progit.en.pdf">PDF</a>, <a href="https://github.s3.amazonaws.com/media/pro-git.en.mobi">mobi</a>, or <a href="https://github.s3.amazonaws.com/media/progit.epub">ePub</a> form for free.</p>

  		<p>
			This book is translated into 
  			<a href="http://git-scm.com/book/de">German</a>,
  			<a href="http://git-scm.com/book/zh">中文</a>,
  			<a href="http://git-scm.com/book/zh-tw">Taiwanese Mandarin</a>,
  			<a href="http://git-scm.com/book/fr">French</a>,
  			<a href="http://git-scm.com/book/ja">Japanese</a>.
		</p>
	</hr>
	<hr class="sidebar">
		<p>
			The source of this book and the translations are <a href="https://github.com/progit/progit">hosted on GitHub.</a><br>
			Patches, suggestions, and comments are welcome.
		</p>
	</hr>
  </nav>
		</aside>
          <div id="content">
<div id='main' class="book">
    <h1>Code du filtreur</h1>
  <div><h2>Consignes et code de base</h2>

<p>Il était demandé de modifier le code suivant de façon à :</p>
<ul>
<li>Extraire le contenu de la balise titre</li>
<li>Extraire le contenu de la balise description</li>
<li>Rendre le programme plus générique</li>
</ul>

<p>Le code fourni était le suivant :</p>
<div class="code-block">
<div class="code-block-header"><span style="font-weight:bold;">filtreur.pl</span></div>
<div class="code-block-content">
<pre style="color:#3b3b3b"><span style="color:#af82d4">#!/usr/bin/perl</span>
<span style="color:#45ae34;font-weight:700">open</span>(FILEINPUT,<span style="color:#666">"<span style="color:#0053ff;font-weight:700">$ARGV</span>[0]"</span>);
<span style="color:#069;font-weight:700">while</span> (<span style="color:#0053ff;font-weight:700">$ligne</span> = &lt;FILEINPUT>){
    <span style="color:#069;font-weight:700">if</span> (<span style="color:#0053ff;font-weight:700">$ligne</span>=<span style="color:#666">~/REGEXP/</span>) {
             <span style="color:#45ae34;font-weight:700">print</span> <span style="color:#0053ff;font-weight:700">$ligne</span>;
     }
}
<span style="color:#45ae34;font-weight:700">close</span>(FILEINPUT);
</pre>
</div>
</div>

<h3>Modifications apportées</h3>

<p>
Le fichier RSS récupéré à des fins de test ne fait usage que d’un saut de ligne après la déclaration
 d’une feuille 
de style XSLT, en conséquence de quoi le code, qui est censé afficher les lignes où sont trouvées 
le motif désiré, va afficher une ou plusieurs fois le contenu entier du fichier. Il est donc 
modifié de façon à n’afficher sur la sortie que la partie matchée, et non la ligne entière.
</p>
<p>
En outre, comme les deux premières modifications demandées par le sujet sont des cas particuliers
dans la troisième, elles sont étés sautées.
<br/>Le code est rendu plus générique en prenant en argument du script (second argument) le nom de 
la balise utilisée dans le motif à chercher.
<p>


<div class="code-block">
<div class="code-block-header"><span style="font-weight:bold;">filtreur-mod.pl</bold></div>
<div class="code-block-content">
<pre style="color:#839496"><span style="color:#586e75;font-style:italic">#!/usr/bin/perl</span>

<span style="color:#859900">open</span>(FILEINPUT,<span style="color:#269186"><span style="color:#2aa198">"</span><span style="color:#b58900"><span style="color:#b58900">$</span>ARGV</span>[0]<span style="color:#2aa198">"</span></span>);
<span style="color:#738a05">my</span> <span style="color:#b58900"><span style="color:#b58900">$</span>tag</span> = <span style="color:#b58900"><span style="color:#b58900">$</span>ARGV</span>[1];

<span style="color:#859900">while</span> (<span style="color:#b58900"><span style="color:#b58900">$</span>ligne</span> = &lt;FILEINPUT>){
<span style="color:#859900">if</span> (<span style="color:#b58900"><span style="color:#b58900">$</span>ligne</span>=<span style="color:#d30102">~/(&lt;$tag>[^&lt;]*&lt;\/$tag>)/</span>) {
             <span style="color:#859900">print</span> <span style="color:#268bd2"><span style="color:#b58900">$</span>1</span>;
     }
}
<span style="color:#859900">close</span>(FILEINPUT);
</pre>
</div>
</div>



<div id="nav"><a href="bao1_intro.html">précédent</a> | 
<a href="bao1_2_function_pointer.html">suivant</a></div></div>
</div>
</div>
      </div>
      <footer>
  <div class="site-source">
    Design du site <a href="https://github.com/git/git-scm.com/blob/master/MIT-LICENSE.txt">licence open-source</a>.<br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="http://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>

    </div>
</body></html>