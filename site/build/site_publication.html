<!DOCTYPE html>
<!-- saved from url=(0023)http://git-scm.com/book -->
<html lang="en" class="js fontface webkit chrome no-windows no-ie8 wf-adelle-n4-active wf-adelle-n7-active wf-active">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  		<meta charset="utf-8">
  		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

		<title>Git - Book</title>

  		<link href="index.css" media="screen" rel="stylesheet" type="text/css">
  		<link href="louis.css" media="screen" rel="stylesheet" type="text/css">

  		<style type="text/css">.tk-adelle{font-family:"adelle",serif;}</style><link rel="stylesheet" href="http://use.typekit.com/c/1265dd/adelle:n4:n7.XK9:F:2,XKF:F:2/d?3bb2a6e53c9684ffdc9a98ff1f5b2a62be32f57674629b256bf45cc5d898bd33078f6d102fef89283fbbb31e1e08dbab19f40e05a4b4be3e89b3372a143e7a26dcd5dad130c72bab3e8fd8b99a9642fbd1ac9ca2f85adca09826901eba44606d532f918a18db21e3aa7eedc4c96415fb336454aeba9ccc4db2a429ad19d964ab58d4b37e4065f51b76f05e5784b3d8559dc1b815733d6d01c3628dc2ef213aaf691e3a89bf6dd61e2ad9429b23fe4aa8ae920a330c526bf40743ee5dfcd44574840a956bad758ed0eee2b5a93c60d4e7fb298bff1da10e582117053d1df952252f3c620756aa9c01af18b814425fcac6691a37beec766e06872a3e540e07e591a00479af59d5422d070cd9e6028fcffcbc624bd8c4a7d13947ef50a81c4a28244fad90bde4a302">
  		<script>
    		//<![CDATA[
      		try{Typekit.load();}catch(e){}
    		//]]>
  		</script>
	</head>
<body id="documentation">

  <div class="inner">
    <header>
  		<a href="index.html">
  			<img src="toolbox.png" width="110" height="46" alt="Git">
  		</a>
  		<span id="tagline">
    		<em>--</em>projet-boite-à-outils
  		</span>
		<!--<form id="search" action="http://git-scm.com/search/results">
    		<input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text">
  		</form>
  		<div id="search-results"></div>-->
	</header>
  </div> <!-- .inner -->

	<div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="">Sujets chauds</a>
        <ul class="expanded">
          <li>
            <a href="bao1_2_function_pointer.html">Pointeurs de fonction</a>
          </li>
          <li>
            <a href="bao1_5_parallelisation.html">Code parallèle</a>
          </li>
          <li>
            <a href="">Mini-mémo git</a>
          </li>

        </ul>
      </li>
      <li>
        <a href="">Téléchargements</a>
      </li>
    	<li>
        <a href="">Auteurs</a>
      </li>
    </ul>
    
    <hr class="sidebar">
    	<p>Download this book in <a href="https://github.s3.amazonaws.com/media/progit.en.pdf">PDF</a>, <a href="https://github.s3.amazonaws.com/media/pro-git.en.mobi">mobi</a>, or <a href="https://github.s3.amazonaws.com/media/progit.epub">ePub</a> form for free.</p>

  		<p>
			This book is translated into 
  			<a href="http://git-scm.com/book/de">German</a>,
  			<a href="http://git-scm.com/book/zh">中文</a>,
  			<a href="http://git-scm.com/book/zh-tw">Taiwanese Mandarin</a>,
  			<a href="http://git-scm.com/book/fr">French</a>,
  			<a href="http://git-scm.com/book/ja">Japanese</a>.
		</p>
	</hr>
	<hr class="sidebar">
		<p>
			The source of this book and the translations are <a href="https://github.com/progit/progit">hosted on GitHub.</a><br>
			Patches, suggestions, and comments are welcome.
		</p>
	</hr>
  </nav>
		</aside>
          <div id="content">
<div id='main' class="book">
    <h1>Publication du site</h1>
  <div>
  <h2>Généralités</h2>

<p>Comme projet utilise git et que le site, qui sert de documentation officielle, est
également suivit par ce logiciel, il devient possible d'exploiter certaines méthodes
de publication que je qualifierai de <em>cool</em>.


<h2>Azure websites</h2>

<p>Azure (anciennement Windows Azure), est le service cloud de Microsoft. Il propose de
nombreux services, souvent assez onéreux et à destination des entreprises, et parmi
cette offre pléthorique, se trouve l'hébergement de site web.</p>

<p>Un forfait <bold><a href="http://azure.microsoft.com/en-us/pricing/details/web-sites/" 
target="_blank">gratuit</a></bold> existe et permet d'héberger jusqu'à 10 sites web
en tant que sous-domaine du domaine azurewebsites.net. Si la plupart des options avancées
de configuration nécessite un abonnement payant, on dispose de base d'un espace de stockage
d'1 Go et de la possibilité d'exécuter du code ASP.Net, PHP, JAVA, Python sans avoir à 
configurer quoique ce soit.
<br/>Non nous limiterons aux pages statiques que nous avons générées via le petit script
Perl.
</p>

<p>Les languages gérés par Azures Websites, vu depuis le panneau de configuration :</p>
<img src="img/azure_languages.png"/>

<h3>Déploiement via un compte git local</h3>

<p>Azure met à notre disposition un dépôt git accessible par https sur lequel on peut
réaliser des push afin de publier notre site web en une ligne de commande.</p>

<p><a href="http://azure.microsoft.com/en-us/documentation/articles/web-sites-publish-source-control/#Step4"
target="_blank">La documentation sur le sujet</a> est assez complète et couvre également
le déploiement depuis GitHub.</p>

<h3>Déploiement via un compte GitHub</h3>

<p>Azure Websites a la possibilité de récupérer automatiquement de lui-même les
push réalisés sur la branche d'un projet (public ou privé) hébergé sur GitHub.
<br/>C'est la solution retenue pour ce projet.</p>

<p>Je voulais maintenir une branche orpheline gérant uniquement le résultat de la 
génération du site, mais comme j'ai rencontré plusieurs difficultés, mais je me suis
contenté de revenir à une solution simple : ajouter ces fichiers à la branche master et
l'utiliser comme branche de publication.
</p>

<p>Ce n'est pas forcément ce qu'il y a de plus propre au monde, en particulier je ne voulais
pas avoir tous les fichiers de code sur mon serveur Azure. Cependant, comme il s'agit
de code Perl il n'y a pas de risque de sécurité, et cela me permet de créer des liens
depuis le site directement vers les fichiers de code.
</p>

<p>Comme le contenu du site se trouve dans le répertoire site/build/ par rapport à la racine
du projet, j'ai effectué une modification de configuration afin que le site soit 
accessible directement depuis le nom de domaine (la page index.html étant cherchée
et affichée automatique car elle présente dans la liste des pages par défaut d'IIS).
</p>

<img src="img/site_root.png"/>

<h2>Hébergement sur GitHub Pages</h2>

<p>GitHub propose lui aussi un service d'hébergement de pages web, à la différence qu'il
ne gère que des pages statiques, qui peuvent avoir été rédigés dans certains formats, tel
que le <a href="http://fr.wikipedia.org/wiki/Markdown" target="_blank">markdown</a>.
</p>

<p>Pour en profiter, il faut publier ses fichiers dans une branche spéciale, nommée
<em>gh-pages</em>. Je n'ai pas testé cette solution, mais voici le lien vers
<a href="https://help.github.com/articles/creating-project-pages-manually" target="_blank">
la documentation idoine</a>.
</p>



<div id="nav"><a href="">précédent</a> | 
<a href="">suivant</a></div></div>
</div>
</div>
      </div>
      <footer>
  <div class="site-source">
    Design du site <a href="https://github.com/git/git-scm.com/blob/master/MIT-LICENSE.txt">licence open-source</a>.<br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="http://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>

    </div>
</body></html>